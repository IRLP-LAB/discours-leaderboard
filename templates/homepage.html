<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Discourse Evaluation Leaderboard</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
      }

      /* Header */
      .header {
        background: linear-gradient(
          135deg,
          #1e3c72 0%,
          #2a5298 50%,
          #3d6cb9 100%
        );
        color: white;
        padding: 15px 0;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .header-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        font-size: 24px;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .nav-links {
        display: flex;
        gap: 30px;
        align-items: center;
      }

      .nav-links a {
        color: white;
        text-decoration: none;
        transition: opacity 0.3s ease;
        font-weight: 500;
      }

      .nav-links a:hover {
        opacity: 0.8;
      }

      .login-btn {
        background: rgba(255, 255, 255, 0.2);
        padding: 10px 20px;
        border-radius: 25px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        transition: all 0.3s ease;
      }

      .login-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
      }

      /* Hero Section */
      .hero {
        background: linear-gradient(135deg, #2e5c9a 0%, #4a90e2 100%);
        color: white;
        text-align: center;
        padding: 80px 0;
      }

      .hero-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .hero h1 {
        font-size: 3.5rem;
        margin-bottom: 20px;
        font-weight: 700;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      .hero-subtitle {
        font-size: 1.3rem;
        margin-bottom: 30px;
        opacity: 0.95;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
      }

      .hero-stats {
        display: flex;
        justify-content: center;
        gap: 50px;
        margin-top: 40px;
      }

      .stat-item {
        text-align: center;
      }

      .stat-number {
        font-size: 2.5rem;
        font-weight: bold;
        display: block;
      }

      .stat-label {
        font-size: 1rem;
        opacity: 0.9;
      }

      /* About Section */
      .about {
        padding: 80px 0;
        background: #f8f9fa;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .section-title {
        text-align: center;
        font-size: 2.5rem;
        margin-bottom: 20px;
        color: #1e3c72;
      }

      .section-subtitle {
        text-align: center;
        font-size: 1.1rem;
        color: #666;
        margin-bottom: 50px;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
      }

      .about-content {
        background: white;
        padding: 40px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-bottom: 50px;
      }

      .about-text {
        font-size: 1.1rem;
        line-height: 1.8;
        color: #555;
        margin-bottom: 25px;
      }

      .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 30px;
        margin-top: 40px;
      }

      .metric-card {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        padding: 25px;
        border-radius: 10px;
        text-align: center;
        transform: translateY(0);
        transition: transform 0.3s ease;
      }

      .metric-card:hover {
        transform: translateY(-5px);
      }

      .metric-name {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .metric-description {
        font-size: 0.9rem;
        opacity: 0.9;
      }

      /* Leaderboard Section */
      .leaderboard {
        padding: 80px 0;
        background: white;
      }

      .leaderboard-container {
        display: flex;
        flex-direction: column;
        gap: 30px;
        width: 100%;
        max-width: none;
      }

      .language-leaderboard {
        width: 100%;
        background: #f8f9fa;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      }

      .language-title {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 20px;
        text-align: center;
        color: #1e3c72;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .language-code {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: normal;
      }

      .leaderboard-table {
        width: 100%;
        border-collapse: collapse;
      }

      .leaderboard-table th {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        padding: 12px 8px;
        font-size: 0.9rem;
        text-align: center;
      }

      .leaderboard-table th:first-child {
        border-radius: 10px 0 0 0;
      }

      .leaderboard-table th:last-child {
        border-radius: 0 10px 0 0;
      }

      .leaderboard-table td {
        padding: 12px 8px;
        text-align: center;
        border-bottom: 1px solid #eee;
        font-size: 0.9rem;
      }

      .leaderboard-table tr:nth-child(even) {
        background: #f9f9f9;
      }

      .leaderboard-table tr:hover {
        background: #e3f2fd;
      }

      /*.rank-1 {
            background: linear-gradient(135deg, #f1c40f 0%, #f39c12 100%);
            color: white;
            font-weight: bold;
        }

        .rank-2 {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            color: white;
            font-weight: bold;
        }

        .rank-3 {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
            color: white;
            font-weight: bold;
        } */

      .score {
        font-weight: bold;
        color: #2a5298;
      }

      .no-data {
        text-align: center;
        color: #666;
        font-style: italic;
        padding: 30px;
      }

      /* Pagination */
      .pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
        margin-top: 20px;
      }

      .pagination button {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.3s ease;
      }

      .pagination button:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 3px 10px rgba(30, 60, 114, 0.4);
      }

      .pagination button:disabled {
        background: #ccc;
        cursor: not-allowed;
        opacity: 0.6;
      }

      .pagination .page-info {
        color: #1e3c72;
        font-weight: bold;
        padding: 0 10px;
      }

      /* Footer */
      .footer {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        padding: 50px 0 20px 0;
      }

      .footer-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 60px;
        margin-bottom: 30px;
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
        padding: 0 20px;
      }

      .footer-section h3 {
        margin-bottom: 20px;
        font-size: 1.3rem;
      }

      .footer-section p,
      .footer-section li {
        margin-bottom: 10px;
        opacity: 0.9;
      }

      .footer-section ul {
        list-style: none;
      }

      .footer-section a {
        color: white;
        text-decoration: none;
        transition: opacity 0.3s ease;
      }

      .footer-section a:hover {
        opacity: 0.7;
      }

      .contact-info {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
      }

      .footer-bottom {
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        padding-top: 20px;
        text-align: center;
        opacity: 0.8;
        max-width: 1200px;
        margin: 0 auto;
        padding-left: 20px;
        padding-right: 20px;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .header-container {
          flex-direction: column;
          gap: 15px;
        }

        .nav-links {
          gap: 20px;
        }

        .hero h1 {
          font-size: 2.5rem;
        }

        .hero-stats {
          flex-direction: column;
          gap: 20px;
        }

        .leaderboard-container {
          max-width: 100%;
          padding: 0 10px;
        }

        .language-leaderboard {
          margin-bottom: 20px;
        }

        .metrics-grid {
          grid-template-columns: 1fr;
        }

        .footer-content {
          grid-template-columns: 1fr;
          gap: 40px;
        }

        .pagination {
          flex-wrap: wrap;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-container">
        <div class="logo">Discourse Evaluation Leaderboard</div>
        <nav class="nav-links">
          <a href="#about">About</a>
          <a href="#leaderboard">Leaderboard</a>
          <a href="#contact">Contact</a>
          <a href="/login" class="login-btn">Login / Participate</a>
        </nav>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-container">
        <h1>Discourse Evaluation Leaderboard</h1>
        <p class="hero-subtitle">
          Advancing discourse understanding through standardized benchmarking
          and transparent evaluation.
        </p>
        <div class="hero-stats">
          <div class="stat-item">
            <span class="stat-number">{{ stats.total_languages }}</span>
            <span class="stat-label">Languages</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">4</span>
            <span class="stat-label">Evaluation Metrics</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ stats.total_participants }}</span>
            <span class="stat-label">Participants</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ stats.total_evaluations }}</span>
            <span class="stat-label">Evaluations</span>
          </div>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
      <div class="container">
        <h2 class="section-title">About the Leaderboard</h2>
        <p class="section-subtitle">
          Advancing the field of discourse resolution through rigorous
          evaluation and collaborative research
        </p>

        <div class="about-content">
          <h2>About the Leaderboard</h2>

          <p class="about-text">
            The <strong>Discourse Evaluation Leaderboard</strong> highlights the
            performance of systems on key discourse understanding tasks. It
            provides a transparent and standardized benchmarking platform for
            evaluating <strong>Anaphora</strong> and
            <strong>Coreference Resolution</strong> models across diverse
            datasets and languages.
          </p>

          <p class="about-text">
            Our leaderboard uses
            <strong>industry-standard evaluation metrics</strong> to ensure
            fairness, reproducibility, and consistency. Participants can compare
            their system performance, monitor progress, and identify areas for
            improvement within specific evaluation dimensions.
          </p>

          <h3>Evaluation Metrics</h3>

          <p class="about-text">
            We employ five widely accepted metrics to evaluate discourse
            resolution systems:
            <strong>MUC</strong>, <strong>B¬≥ (BCUB)</strong>,
            <strong>CEAF<sub>M</sub></strong
            >, <strong>CEAF<sub>E</sub></strong
            >, and <strong>BLANC</strong>. Each metric assesses a different
            aspect of coreference performance ‚Äî from mention identification to
            entity alignment ‚Äî providing a well-rounded understanding of system
            capabilities.
          </p>

          <h3>How to Participate</h3>

          <p class="about-text">
            Register on the leaderboard platform, upload your system‚Äôs output
            files for supported datasets, and receive instant evaluation
            results. Your best scores will appear on the public leaderboard,
            fostering open comparison, collaboration, and advancement in
            discourse understanding research.
          </p>
        </div>

        <div class="metrics-grid">
          <div class="metric-card">
            <div class="metric-name">MUC</div>
            <div class="metric-description">
              Message Understanding Conference metric for link-based evaluation
            </div>
          </div>
          <div class="metric-card">
            <div class="metric-name">B-CUBED</div>
            <div class="metric-description">
              Mention-based evaluation focusing on individual entity mentions
            </div>
          </div>
          <div class="metric-card">
            <div class="metric-name">CEAF</div>
            <div class="metric-description">
              Constrained Entity-Alignment F-Measure for entity-based evaluation
            </div>
          </div>
          <div class="metric-card">
            <div class="metric-name">BLANC</div>
            <div class="metric-description">
              BiLateral Assessment of Noun-phrase Coreference metric
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Leaderboard Section -->
    <section class="leaderboard" id="leaderboard">
      <div class="container">
        <h2 class="section-title">Discourse Leaderboards</h2>
        <p class="section-subtitle">
          Top performing systems across different languages - each language
          ranked separately
        </p>

        <div class="leaderboard-container">
          {% for language_data in leaderboards %}
          <div class="language-leaderboard">
            <h3 class="language-title">
              {{ language_data.language_name }}
              <span class="language-code"
                >{{ language_data.language_code.upper() }}</span
              >
            </h3>
            {% if language_data.top_scores %}
            <table class="leaderboard-table">
              <thead>
                <tr>
                  <th>Rank</th>
                  <th>Team</th>
                  <th>MUC F1</th>
                  <th>B¬≥ F1</th>
                  <th>CEAF F1</th>
                  <th>BLANC F1</th>
                </tr>
              </thead>
              <tbody id="tbody-lang-{{ language_data.language_id }}">
                <!-- Rows will be populated by JavaScript -->
              </tbody>
            </table>
            <div
              class="pagination"
              id="pagination-lang-{{ language_data.language_id }}"
            >
              <!-- Pagination will be populated by JavaScript -->
            </div>
            {% else %}
            <div class="no-data">
              <p>No evaluations submitted yet</p>
              <p>Be the first to participate!</p>
            </div>
            {% endif %}
          </div>
          {% endfor %}
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="contact">
      <div class="footer-content">
        <div class="footer-section">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="/login">Participant Login</a></li>
            <li><a href="#about">About the Leaderboar</a></li>
            <li><a href="#leaderboard">Leaderboards</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>Contact Us</h3>
          <div class="contact-info">
            <span>üìß</span>
            <a href="mailto:irlab@dau.ac.in">irlab@dau.ac.in</a>
          </div>
          <div class="contact-info">
            <span>üìû</span>
            <span>+91 796826 1638</span>
          </div>
          <div class="contact-info">
            <span>üåê</span>
            <a href="https://irlab.daiict.ac.in/leaderboard"
              >discourse-eval-2025.org</a
            >
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>
          &copy; 2025 Discourse Evaluation Leaderboard. All rights reserved.
        </p>
      </div>
    </footer>

    <script>
      // Store all leaderboard data
      const leaderboardData = {};
          {% for language_data in leaderboards %}
          leaderboardData[{{ language_data.language_id }}] = {{ language_data.top_scores | tojson | safe }};
          {% endfor %}

          const itemsPerPage = 5;
          const currentPages = {};

          function renderTable(languageId, page) {
              const allScores = leaderboardData[languageId];
              if (!allScores || allScores.length === 0) return;

              const tbody = document.getElementById('tbody-lang-' + languageId);
              const start = (page - 1) * itemsPerPage;
              const end = start + itemsPerPage;
              const pageScores = allScores.slice(start, end);

              tbody.innerHTML = '';

              pageScores.forEach(function(score, index) {
                  const globalRank = start + index + 1;
                  const row = document.createElement('tr');

                  let rankClass = '';
                  let rankText = globalRank;

                  if (globalRank === 1) {
                      rankText = '1';
                  } else if (globalRank === 2) {
                      rankText = '2';
                  } else if (globalRank === 3) {
                      rankText = '3';
                  }

                  row.innerHTML = '<td class="' + rankClass + '">' + rankText + '</td>' +
                      '<td><strong>' + score.username + '</strong></td>' +
                      '<td class="score">' + (score.muc_f1 ? score.muc_f1.toFixed(4) : 'N/A') + '</td>' +
                      '<td class="score">' + (score.bcub_f1 ? score.bcub_f1.toFixed(4) : 'N/A') + '</td>' +
                      '<td class="score">' + (score.ceafm_f1 ? score.ceafm_f1.toFixed(4) : 'N/A') + '</td>' +
                      '<td class="score">' + (score.blanc_f1 ? score.blanc_f1.toFixed(4) : 'N/A') + '</td>';

                  tbody.appendChild(row);
              });
          }

          function renderPagination(languageId) {
              const allScores = leaderboardData[languageId];
              if (!allScores || allScores.length === 0) return;

              const totalPages = Math.ceil(allScores.length / itemsPerPage);
              const currentPage = currentPages[languageId] || 1;
              const pagination = document.getElementById('pagination-lang-' + languageId);

              if (totalPages <= 1) {
                  pagination.style.display = 'none';
                  return;
              }

              pagination.innerHTML = '<button onclick="changePage(' + languageId + ', ' + (currentPage - 1) + ')" ' + (currentPage === 1 ? 'disabled' : '') + '>Previous</button>' +
                  '<span class="page-info">Page ' + currentPage + ' of ' + totalPages + '</span>' +
                  '<button onclick="changePage(' + languageId + ', ' + (currentPage + 1) + ')" ' + (currentPage === totalPages ? 'disabled' : '') + '>Next</button>';
          }

          function changePage(languageId, page) {
              const allScores = leaderboardData[languageId];
              if (!allScores || allScores.length === 0) return;

              const totalPages = Math.ceil(allScores.length / itemsPerPage);
              if (page < 1 || page > totalPages) return;

              currentPages[languageId] = page;
              renderTable(languageId, page);
              renderPagination(languageId);
          }

          // Initialize all leaderboards on page load
          document.addEventListener('DOMContentLoaded', function() {
              for (var languageId in leaderboardData) {
                  if (leaderboardData.hasOwnProperty(languageId)) {
                      currentPages[languageId] = 1;
                      renderTable(parseInt(languageId), 1);
                      renderPagination(parseInt(languageId));
                  }
              }
          });
    </script>
  </body>
</html>
